{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchPhoto(img) {\n    const baseUrl = 'https://pixabay.com/';\n    const endPoint = 'api/';\n    const options = new URLSearchParams({\n        key: '44428338-9196df2338f39a1a95b2ab25e',\n        image_type: 'photo',\n        orientation: 'horizontal',\n        q: `${img}`,\n        safesearch: true,\n    });\n    const url = `${baseUrl}${endPoint}?${options}`;\n\n    return fetch(url).then(res => res.json()).then(data => {\n        return data.hits;\n    })\n        \n}","import { searchPhoto } from './pixabay-api.js';\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst listElem = document.querySelector('.img-list');\n\nexport function createTemplate(searchQuery) {\n    searchPhoto(searchQuery).then(data => {\n        if (data && data.length > 0) {\n            const markUp = imgTemplates(data);\n            listElem.insertAdjacentHTML('beforeend', markUp);\n            modalShow();\n        } else {\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight'\n            })\n        }\n    }).catch(err => err);\n    listElem.innerHTML = '';\n}\n\nfunction imgTemplate({webformatURL, largeImageURL, tags, likes, views, comments, downloads}) {\n    return `<li><a href=\"${largeImageURL}\">\n        <img src=${webformatURL} alt=${tags} data-source=${largeImageURL}/></a>\n        <div>\n            <p>likes: <span>${likes}</span></p>\n            <p>views: <span>${views}</span></p>\n            <p>comments: <span>${comments}</span></p>\n            <p>downloads: <span>${downloads}</span></p>\n        </div>\n    </li>`\n}\n\nfunction imgTemplates(arr) {\n    return arr.map(imgTemplate).join('');\n}\n\nfunction modalShow() {\n    const lightbox = new SimpleLightbox('.img-list a', { \n        overlayOpacity: 0.9,\n        captionDelay: 250,\n        captionsData: \"alt\",\n    });\n    lightbox.refresh()\n}","import { createTemplate } from './js/render-functions.js';\n// Описаний в документації\n\n\n\nconst formElem = document.querySelector('.form-el');\nconst inputElem = formElem.querySelector('.input-search');\nconst loadElem = document.querySelector('.loader')\n\nformElem.addEventListener('submit', e => {\n    e.preventDefault();\n    loadElem.classList.remove('visually-hidden');\n\n    setTimeout(clickBtn, 2000);\n\n});\n\nfunction clickBtn() {\n    loadElem.classList.add('visually-hidden');\n    if (inputElem.value.trim() === '') {\n        return;\n    } else {\n        createTemplate(inputElem.value.trim());\n    };\n}\n\n"],"names":["searchPhoto","img","baseUrl","endPoint","options","url","res","data","listElem","createTemplate","searchQuery","markUp","imgTemplates","modalShow","iziToast","err","imgTemplate","webformatURL","largeImageURL","tags","likes","views","comments","downloads","arr","SimpleLightbox","formElem","inputElem","loadElem","e","clickBtn"],"mappings":"6vBAAO,SAASA,EAAYC,EAAK,CAC7B,MAAMC,EAAU,uBACVC,EAAW,OACXC,EAAU,IAAI,gBAAgB,CAChC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,EAAG,GAAGH,CAAG,GACT,WAAY,EACpB,CAAK,EACKI,EAAM,GAAGH,CAAO,GAAGC,CAAQ,IAAIC,CAAO,GAE5C,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAM,CAAA,EAAE,KAAKC,GACpCA,EAAK,IACf,CAEL,CCPA,MAAMC,EAAW,SAAS,cAAc,WAAW,EAE5C,SAASC,EAAeC,EAAa,CACxCV,EAAYU,CAAW,EAAE,KAAKH,GAAQ,CAClC,GAAIA,GAAQA,EAAK,OAAS,EAAG,CACzB,MAAMI,EAASC,EAAaL,CAAI,EAChCC,EAAS,mBAAmB,YAAaG,CAAM,EAC/CE,GACZ,MACYC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAU,UAC1B,CAAa,CAER,CAAA,EAAE,MAAMC,GAAOA,CAAG,EACnBP,EAAS,UAAY,EACzB,CAEA,SAASQ,EAAY,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAG,CACzF,MAAO,gBAAgBL,CAAa;AAAA,mBACrBD,CAAY,QAAQE,CAAI,gBAAgBD,CAAa;AAAA;AAAA,8BAE1CE,CAAK;AAAA,8BACLC,CAAK;AAAA,iCACFC,CAAQ;AAAA,kCACPC,CAAS;AAAA;AAAA,UAG3C,CAEA,SAASX,EAAaY,EAAK,CACvB,OAAOA,EAAI,IAAIR,CAAW,EAAE,KAAK,EAAE,CACvC,CAEA,SAASH,GAAY,CACA,IAAIY,EAAe,cAAe,CAC/C,eAAgB,GAChB,aAAc,IACd,aAAc,KACtB,CAAK,EACQ,QAAS,CACtB,CC9CA,MAAMC,EAAW,SAAS,cAAc,UAAU,EAC5CC,EAAYD,EAAS,cAAc,eAAe,EAClDE,EAAW,SAAS,cAAc,SAAS,EAEjDF,EAAS,iBAAiB,SAAUG,GAAK,CACrCA,EAAE,eAAc,EAChBD,EAAS,UAAU,OAAO,iBAAiB,EAE3C,WAAWE,EAAU,GAAI,CAE7B,CAAC,EAED,SAASA,GAAW,CAChBF,EAAS,UAAU,IAAI,iBAAiB,EACpCD,EAAU,MAAM,KAAI,IAAO,IAG3BlB,EAAekB,EAAU,MAAM,KAAM,CAAA,CAE7C"}